{% spaceless %}

{# Parameters:
  - variant: (string) (default: "gray")
    - options ["gray", "white"]
  - direction: (string) (default: "vertical")
    - options ["vertical", "horizontal"]
  - title: (string) (default: "")
  - links (array of objects) (default: []) format: [
    path: (string) (default: "#")
    label: (string) (default: "")
  ]
#}

{% set _variant = variant|default("gray") %}
{% set _direction = direction|default("vertical") %}
{% set _title = title|default("") %}
{% set _links = links|default([])%}

{% if attributes is empty %}
  {% set attributes = create_attribute() %}
{% endif %}

{% if list_attributes is empty %}
  {% set list_attributes = create_attribute() %}
{% endif %}

{% set _classes = ["p-3"] %}
{% set _list_classes = ["list-unstyled"] %}

{% if _variant == "gray" %}
  {% set _classes = _classes|merge(["bg-light"]) %}
{% endif %}

{% if _direction == "horizontal" %}
  {% set _list_classes = _list_classes|merge(["d-inline"]) %}
{% endif %}

{% set attributes = attributes.addClass(_classes) %}
{% set list_attributes = list_attributes.addClass(_list_classes) %}

<div 
  {{ attributes }}
>
  {% if _title is not empty %}
    <h5 class="fs-5 fw-bold mb-2">{{ _title }}</h5>
    <hr/>
  {% endif %}
  {% if _links is not empty and _links is iterable %}
    <ul class="ps-0 mb-0">
      {% for _link in _links %}
        {% if loop.last == false %}
          {% set list_attributes = list_attributes.addClass(["me-4"]) %}
        {% endif %}
        <li 
          {{ list_attributes }}
        >
          {% include "@oe-bcl/bcl-link/link.html.twig" with {
            path: _link.path,
            label: _link.label,
            attributes: create_attribute().addClass(["pb-2", "d-inline-block"])
          } only %}
        </li>
      {% endfor %}
    </ul>
  {% endif %}
</div>

{% endspaceless %}
