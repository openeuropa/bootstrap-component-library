{% spaceless %}

{# Parameters:
  - label (string) (default: '')
  - background: (string) (default: 'primary')
  - url (string) (default: '')
  - title (string) (default: label)
  - hidden_text (string) (default: '')
  - dismissible (boolean) (default: false)
#}

{% set _rounded_pill = rounded_pill|default(false) %}
{% set _background = background|default('primary') %}
{% set _label = label|default('') %}
{% set _class = 'badge bg-' ~ _background %}
{% set _url = url|default('') %}
{% set _title = title|default(_label) %}
{% set _hidden_text = hidden_text|default('') %}
{% set _dismissible = dismissible|default(false) %}
{% set _extra_classes = extra_classes|default('') %}

{% if _rounded_pill %}
  {% set _class = _class ~ ' rounded-pill' %}
{% endif %}

{% if _background == 'light' %}
  {% set _class = _class ~ ' text-dark' %}
{% endif %}

{% if _extra_classes is not empty %}
  {% set _class = _class ~ ' ' ~ _extra_classes %}
{% endif %}

{%- if _url is not empty -%}
<a href="{{ _url }}" title="{{ _title }}">
{%- endif -%}
  <span class="{{ _class }}">
  {%- if _hidden_text is not empty -%}
    <span class="visually-hidden">
      {{- _hidden_text -}}
    </span>
  {%- endif -%}
    {{- _label -}}
  {%- if _dismissible -%}
    <span class="icon--close" aria-hidden="true">&times;</span>
  {%- endif -%}
  </span>
{%- if _url is not empty -%}
</a>
{%- endif -%}

{% endspaceless %}
