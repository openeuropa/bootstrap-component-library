{% spaceless %}

{# Parameters:
  - label (string) (default: '')
  - background: (string) (default: 'primary')
  - url (string) (default: '')
  - title (string) (default: label)
  - assistive_text (string) (default: '')
  - rounded_pill (boolean) (default: false)
#}

{% set _rounded_pill = rounded_pill|default(false) %}
{% set _background = background|default('primary') %}
{% set _label = label|default('') %}
{% set _classes = ['badge', 'bg-' ~ _background] %}
{% set _url = url|default('') %}
{% set _title_attr = title_attr|default(_label) %}
{% set _assistive_text = assistive_text|default('') %}

{% if _rounded_pill %}
  {% set _classes = _classes|merge(['rounded-pill']) %}
{% endif %}

{% if _background in ['light', 'warning', 'info'] %}
  {% set _classes = _classes|merge(['text-dark']) %}
{% endif %}

{% if attributes is empty %}
  {% set attributes = create_attribute() %}
{% endif %}

{% set attributes = attributes.addClass(_classes) %}

{%- if _url is not empty -%}
<a href="{{ _url }}" title="{{ _title_attr }}">
{%- endif -%}
  <span
    {{ attributes }}
  >
  {%- if _assistive_text is not empty -%}
    <span class="visually-hidden">
      {{- _assistive_text -}}
    </span>
  {%- endif -%}
    {{- _label -}}
  </span>
{%- if _url is not empty -%}
</a>
{%- endif -%}

{% endspaceless %}
